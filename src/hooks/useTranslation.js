import { useLanguage } from '../contexts/LanguageContext';
import { fetchTranslations } from '../api/content';
import { useState, useEffect } from 'react';

// Default translations for common UI elements
const defaultTranslations = {
  en: {
    'button.details': 'Details',
    'button.inquire': 'Inquire',
    'button.add_to_cart': 'Add to Cart',
    'button.view_more': 'View More',
    'button.contact_us': 'Contact Us',
    'button.submit': 'Submit',
    'button.cancel': 'Cancel',
    'button.save': 'Save',
    'button.edit': 'Edit',
    'button.delete': 'Delete',
    'label.new': 'NEW',
    'label.refurbished': 'Refurbished',
    'label.used': 'Used',
    'nav.home': 'Home',
    'nav.about': 'About Us',
    'nav.services': 'Services',
    'nav.contact': 'Contact Us',
    'search.placeholder': 'Search...',
    'footer.rights': 'All rights reserved',
    'footer.privacy': 'Privacy Policy',
    'footer.terms': 'Terms of Service',
    'footer.head_office': 'Head Office',
    'footer.about_us': 'About Us',
    'footer.follow_us': 'Follow Us',
    'map.title': 'Visit Our Store',
    'map.contact_info_title': 'Contact Information',
    'map.address': 'Address',
    'map.email': 'Email',
    'map.phone': 'Phone',
    'map.working_hours': 'Working Hours',
    'map.get_directions': 'Get Directions',
    'about.title': 'About Dixie Mills',
    'about.subtitle': 'Leading supplier of premium sauces and condiments, dedicated to bringing exceptional flavors to your table through quality ingredients and authentic recipes',
    'about.story_title': 'Our Story',
    'about.team_title': 'Our Leadership Team',
    'about.cta_title': 'Partner with Dixie Mills Today',
    'about.cta_subtitle': 'Your Trusted Sauce & Condiments Partner',
    'about.cta_description': 'Discover how our premium sauces can enhance your culinary experience. Contact us at: info@dixiemills.com | +20 109 167 8197',
    // Services page translations
    'services.title': 'Our Services',
    'services.subtitle': 'Comprehensive food service solutions to support restaurants, hotels, and food businesses with quality products and reliable delivery',
    'services.why_choose_title': 'Why Choose Our Services?',
    'services.expertise_title': 'Expertise & Experience',
    'services.expertise_description': 'Over 20 years of experience in the food industry with expert chefs and food technologists creating authentic flavors.',
    'services.quality_title': 'Quality Assurance',
    'services.quality_description': 'ISO certified processes ensuring the highest standards of food safety and product quality.',
    'services.satisfaction_title': 'Customer Satisfaction',
    'services.satisfaction_description': 'Dedicated to exceeding customer expectations with premium products and tailored solutions.',
    // Contact page translations
    'contact.title': 'Contact Us',
    'contact.subtitle': 'Get in touch with our team for inquiries, support, or to discuss your sauce and condiment needs',
    'contact.address_title': 'Address',
    'contact.phone_title': 'Phone',
    'contact.whatsapp_title': 'WhatsApp',
    'contact.email_title': 'Email',
    'contact.hours_title': 'Business Hours',
    'contact.hours_weekdays': 'Monday - Friday: 9:00 AM - 6:00 PM',
    'contact.hours_saturday': 'Saturday: 10:00 AM - 4:00 PM',
    'contact.hours_sunday': 'Sunday: Closed',
    'contact.cta_title': 'Get in Touch Today',
    'contact.cta_subtitle': 'Quick Response Guarantee',
    'contact.cta_description': 'We aim to respond to all inquiries within 24 hours during business days. For urgent matters, please call us directly and we\'ll assist you immediately.',
    'contact.success_message': 'Thank you for your message! We\'ll get back to you soon.',
    // Category page translations
    'category.sauces.title': 'Premium Sauces',
    'category.mayonnaise.title': 'Mayonnaise Collection',
    'category.far_east_sauce.title': 'Far East Sauces',
    'category.toppings.title': 'Delicious Toppings',
    'category.dressings.title': 'Salad Dressings',
    'category.ketchup.title': 'Tomato Ketchup',
    'category.condiments.title': 'Condiments & Seasonings',
    'category.professional_sauce.title': 'Professional Kitchen Sauces',
    'category.dixie_kids.title': 'Dixie Kids Collection',
    'category.private_label.title': 'Private Label Services',
    // Blog translations
    'blog.title': 'Blog',
    'blog.subtitle': 'Delicious recipes, culinary tips, and the latest updates from Dixie Mills',
    'blog.meta_title': 'Dixie Mills Blog - Recipes & Culinary Insights',
    'blog.search_placeholder': 'Search blog posts...',
    'blog.filter_by_category': 'Filter by Category',
    'blog.filter_by_tag': 'Filter by Tag',
    'blog.all_posts': 'All Posts',
    'blog.clear_filters': 'Clear Filters',
    'blog.no_posts_found': 'No posts found',
    'blog.reading_time': 'min read',
    'blog.views': 'views',
    'blog.categories': 'Categories',
    'blog.tags': 'Popular Tags',
    'blog.share': 'Share',
    'blog.share_twitter': 'Share on Twitter',
    'blog.share_facebook': 'Share on Facebook',
    'blog.share_linkedin': 'Share on LinkedIn',
    'blog.copy_link': 'Copy Link',
    'blog.link_copied': 'Link copied to clipboard',
    'blog.back_to_blog': 'Back to Blog',
    'blog.by_author': 'By',
    'blog.related_posts': 'Related Posts',
    // Order form translations
    'order_form.title': 'Request Your Order',
    'order_form.subtitle': 'Fill out the form below and we\'ll process your order',
    'order_form.customer_info': 'Customer Information',
    'order_form.name': 'Name',
    'order_form.company': 'Company (Optional)',
    'order_form.phone': 'Phone Number',
    'order_form.email': 'Email (Optional)',
    'order_form.address': 'Delivery Address',
    'order_form.products': 'Products',
    'order_form.add_product': 'Add Product',
    'order_form.category': 'Category',
    'order_form.product': 'Product',
    'order_form.quantity': 'Quantity',
    'order_form.notes': 'Additional Notes (Optional)',
    'order_form.submit': 'Send Order via WhatsApp',
    'order_form.submitting': 'Sending...',
    'order_form.success': 'Order request sent successfully!',
    'order_form.error': 'Error sending order. Please try again.',
    'order_form.errors.name_required': 'Name is required',
    'order_form.errors.phone_required': 'Phone number is required',
    'order_form.errors.address_required': 'Delivery address is required',
    'order_form.errors.products_required': 'Please add at least one product',
  },
  es: {
    'button.details': 'Detalles',
    'button.inquire': 'Consultar',
    'button.add_to_cart': 'Añadir al Carrito',
    'button.view_more': 'Ver Más',
    'button.contact_us': 'Contáctanos',
    'button.submit': 'Enviar',
    'button.cancel': 'Cancelar',
    'button.save': 'Guardar',
    'button.edit': 'Editar',
    'button.delete': 'Eliminar',
    'label.new': 'NUEVO',
    'label.refurbished': 'Reacondicionado',
    'label.used': 'Usado',
    'nav.home': 'Inicio',
    'nav.about': 'Acerca de',
    'nav.services': 'Servicios',
    'nav.contact': 'Contacto',
    'search.placeholder': 'Buscar...',
    'footer.rights': 'Todos los derechos reservados',
    'footer.privacy': 'Política de Privacidad',
    'footer.terms': 'Términos de Servicio',
    'footer.head_office': 'Oficina Principal',
    'footer.about_us': 'Acerca de Nosotros',
    'footer.follow_us': 'Síguenos',
    'map.title': 'Visite Nuestra Tienda',
    'map.contact_info_title': 'Información de Contacto',
    'map.address': 'Dirección',
    'map.email': 'Correo Electrónico',
    'map.phone': 'Teléfono',
    'map.working_hours': 'Horario de Trabajo',
    'map.get_directions': 'Obtener Direcciones',
    'about.title': 'Acerca de Dixie Mills',
    'about.subtitle': 'Proveedor líder de salsas y condimentos premium, dedicado a llevar sabores excepcionales a su mesa a través de ingredientes de calidad y recetas auténticas',
    'about.story_title': 'Nuestra Historia',
    'about.team_title': 'Nuestro Equipo de Liderazgo',
    'about.cta_title': 'Asóciese con Dixie Mills Hoy',
    'about.cta_subtitle': 'Su Socio de Confianza en Salsas y Condimentos',
    'about.cta_description': 'Descubra cómo nuestras salsas premium pueden mejorar su experiencia culinaria. Contáctenos: info@dixiemills.com | +20 109 167 8197',
    // Services page translations
    'services.title': 'Nuestros Servicios',
    'services.subtitle': 'Soluciones integrales de servicio de alimentos para apoyar a restaurantes, hoteles y empresas de alimentos con productos de calidad y entrega confiable',
    'services.why_choose_title': '¿Por Qué Elegir Nuestros Servicios?',
    'services.expertise_title': 'Experiencia y Conocimientos',
    'services.expertise_description': 'Más de 20 años de experiencia en la industria alimentaria con chefs expertos y tecnólogos de alimentos creando sabores auténticos.',
    'services.quality_title': 'Garantía de Calidad',
    'services.quality_description': 'Procesos certificados ISO que garantizan los más altos estándares de seguridad alimentaria y calidad del producto.',
    'services.satisfaction_title': 'Satisfacción del Cliente',
    'services.satisfaction_description': 'Dedicados a superar las expectativas del cliente con productos premium y soluciones personalizadas.',
    // Contact page translations
    'contact.title': 'Contáctenos',
    'contact.subtitle': 'Póngase en contacto con nuestro equipo para consultas, soporte o para discutir sus necesidades de salsas y condimentos',
    'contact.address_title': 'Dirección',
    'contact.phone_title': 'Teléfono',
    'contact.whatsapp_title': 'WhatsApp',
    'contact.email_title': 'Correo Electrónico',
    'contact.hours_title': 'Horario de Atención',
    'contact.hours_weekdays': 'Lunes - Viernes: 9:00 AM - 6:00 PM',
    'contact.hours_saturday': 'Sábado: 10:00 AM - 4:00 PM',
    'contact.hours_sunday': 'Domingo: Cerrado',
    'contact.cta_title': 'Contáctenos Hoy',
    'contact.cta_subtitle': 'Garantía de Respuesta Rápida',
    'contact.cta_description': 'Nuestro objetivo es responder a todas las consultas dentro de las 24 horas durante los días hábiles. Para asuntos urgentes, llámenos directamente y lo asistiremos de inmediato.',
    'contact.success_message': 'Gracias por su mensaje! Nos pondremos en contacto con usted pronto.',
    // Category page translations
    'category.sauces.title': 'Salsas Premium',
    'category.mayonnaise.title': 'Colección de Mayonesa',
    'category.far_east_sauce.title': 'Salsas del Lejano Oriente',
    'category.toppings.title': 'Toppings Deliciosos',
    'category.dressings.title': 'Aderezos para Ensalada',
    'category.ketchup.title': 'Ketchup de Tomate',
    'category.condiments.title': 'Condimentos y Especias',
    'category.professional_sauce.title': 'Salsas para Cocina Profesional',
    'category.dixie_kids.title': 'Colección Dixie Kids',
    'category.private_label.title': 'Servicios de Marca Privada',
    // Blog translations
    'blog.title': 'Blog',
    'blog.subtitle': 'Recetas deliciosas, consejos culinarios y las últimas novedades de Dixie Mills',
    'blog.meta_title': 'Blog de Dixie Mills - Recetas y Perspectivas Culinarias',
    'blog.search_placeholder': 'Buscar publicaciones...',
    'blog.filter_by_category': 'Filtrar por Categoría',
    'blog.filter_by_tag': 'Filtrar por Etiqueta',
    'blog.all_posts': 'Todas las Publicaciones',
    'blog.clear_filters': 'Limpiar Filtros',
    'blog.no_posts_found': 'No se encontraron publicaciones',
    'blog.reading_time': 'min de lectura',
    'blog.views': 'vistas',
    'blog.categories': 'Categorías',
    'blog.tags': 'Etiquetas Populares',
    'blog.share': 'Compartir',
    'blog.share_twitter': 'Compartir en Twitter',
    'blog.share_facebook': 'Compartir en Facebook',
    'blog.share_linkedin': 'Compartir en LinkedIn',
    'blog.copy_link': 'Copiar Enlace',
    'blog.link_copied': 'Enlace copiado al portapapeles',
    'blog.back_to_blog': 'Volver al Blog',
    'blog.by_author': 'Por',
    'blog.related_posts': 'Publicaciones Relacionadas',
  },
  fr: {
    'button.details': 'Détails',
    'button.inquire': 'Demander',
    'button.add_to_cart': 'Ajouter au Panier',
    'button.view_more': 'Voir Plus',
    'button.contact_us': 'Contactez-nous',
    'button.submit': 'Soumettre',
    'button.cancel': 'Annuler',
    'button.save': 'Enregistrer',
    'button.edit': 'Modifier',
    'button.delete': 'Supprimer',
    'label.new': 'NOUVEAU',
    'label.refurbished': 'Reconditionné',
    'label.used': 'Utilisé',
    'nav.home': 'Accueil',
    'nav.about': 'À Propos',
    'nav.services': 'Services',
    'nav.contact': 'Contact',
    'search.placeholder': 'Rechercher...',
    'footer.rights': 'Tous droits réservés',
    'footer.privacy': 'Politique de Confidentialité',
    'footer.terms': 'Conditions d\'Utilisation',
    'footer.head_office': 'Siège Social',
    'footer.about_us': 'À Propos de Nous',
    'footer.follow_us': 'Suivez-nous',
    'map.title': 'Visitez Notre Magasin',
    'map.contact_info_title': 'Informations de Contact',
    'map.address': 'Adresse',
    'map.email': 'Email',
    'map.phone': 'Téléphone',
    'map.working_hours': 'Heures de Travail',
    'map.get_directions': 'Obtenir l\'Itinéraire',
    'about.title': 'À Propos de Dixie Mills',
    'about.subtitle': 'Fournisseur leader de sauces et condiments premium, dédié à apporter des saveurs exceptionnelles à votre table grâce à des ingrédients de qualité et des recettes authentiques',
    'about.story_title': 'Notre Histoire',
    'about.team_title': 'Notre Équipe de Direction',
    'about.cta_title': 'Associez-vous à Dixie Mills Aujourd\'hui',
    'about.cta_subtitle': 'Votre Partenaire de Confiance en Sauces et Condiments',
    'about.cta_description': 'Découvrez comment nos sauces premium peuvent améliorer votre expérience culinaire. Contactez-nous : info@dixiemills.com | +20 109 167 8197',
    // Services page translations
    'services.title': 'Nos Services',
    'services.subtitle': 'Solutions complètes de service alimentaire pour soutenir les restaurants, hôtels et entreprises alimentaires avec des produits de qualité et une livraison fiable',
    'services.why_choose_title': 'Pourquoi Choisir Nos Services?',
    'services.expertise_title': 'Expertise et Expérience',
    'services.expertise_description': 'Plus de 20 ans d\'expérience dans l\'industrie alimentaire avec des chefs experts et des technologues alimentaires créant des saveurs authentiques.',
    'services.quality_title': 'Assurance Qualité',
    'services.quality_description': 'Processus certifiés ISO garantissant les normes les plus élevées de sécurité alimentaire et de qualité des produits.',
    'services.satisfaction_title': 'Satisfaction Client',
    'services.satisfaction_description': 'Dédiés à dépasser les attentes des clients avec des produits premium et des solutions sur mesure.',
    // Contact page translations
    'contact.title': 'Contactez-nous',
    'contact.subtitle': 'Contactez notre équipe pour des demandes de renseignements, du support ou pour discuter de vos besoins en sauces et condiments',
    'contact.address_title': 'Adresse',
    'contact.phone_title': 'Téléphone',
    'contact.whatsapp_title': 'WhatsApp',
    'contact.email_title': 'Email',
    'contact.hours_title': 'Heures d\'Ouverture',
    'contact.hours_weekdays': 'Lundi - Vendredi: 9h00 - 18h00',
    'contact.hours_saturday': 'Samedi: 10h00 - 16h00',
    'contact.hours_sunday': 'Dimanche: Fermé',
    'contact.cta_title': 'Contactez-nous Aujourd\'hui',
    'contact.cta_subtitle': 'Garantie de Réponse Rapide',
    'contact.cta_description': 'Nous nous efforçons de répondre à toutes les demandes dans les 24 heures pendant les jours ouvrables. Pour les questions urgentes, veuillez nous appeler directement et nous vous aiderons immédiatement.',
    'contact.success_message': 'Merci pour votre message! Nous vous répondrons bientôt.',
    // Category page translations
    'category.sauces.title': 'Sauces Premium',
    'category.mayonnaise.title': 'Collection de Mayonnaise',
    'category.far_east_sauce.title': 'Sauces d\'Extrême-Orient',
    'category.toppings.title': 'Garnitures Délicieuses',
    'category.dressings.title': 'Vinaigrettes',
    'category.ketchup.title': 'Ketchup de Tomate',
    'category.condiments.title': 'Condiments et Assaisonnements',
    'category.professional_sauce.title': 'Sauces pour Cuisine Professionnelle',
    'category.dixie_kids.title': 'Collection Dixie Kids',
    'category.private_label.title': 'Services de Marque Privée',
    // Blog translations
    'blog.title': 'Blog',
    'blog.subtitle': 'Recettes délicieuses, conseils culinaires et les dernières nouvelles de Dixie Mills',
    'blog.meta_title': 'Blog Dixie Mills - Recettes et Perspectives Culinaires',
    'blog.search_placeholder': 'Rechercher des articles...',
    'blog.filter_by_category': 'Filtrer par Catégorie',
    'blog.filter_by_tag': 'Filtrer par Étiquette',
    'blog.all_posts': 'Tous les Articles',
    'blog.clear_filters': 'Effacer les Filtres',
    'blog.no_posts_found': 'Aucun article trouvé',
    'blog.reading_time': 'min de lecture',
    'blog.views': 'vues',
    'blog.categories': 'Catégories',
    'blog.tags': 'Étiquettes Populaires',
    'blog.share': 'Partager',
    'blog.share_twitter': 'Partager sur Twitter',
    'blog.share_facebook': 'Partager sur Facebook',
    'blog.share_linkedin': 'Partager sur LinkedIn',
    'blog.copy_link': 'Copier le Lien',
    'blog.link_copied': 'Lien copié dans le presse-papiers',
    'blog.back_to_blog': 'Retour au Blog',
    'blog.by_author': 'Par',
    'blog.related_posts': 'Articles Connexes',
  },
  ar: {
    'button.details': 'التفاصيل',
    'button.inquire': 'استفسار',
    'button.add_to_cart': 'أضف إلى السلة',
    'button.view_more': 'عرض المزيد',
    'button.contact_us': 'اتصل بنا',
    'button.submit': 'إرسال',
    'button.cancel': 'إلغاء',
    'button.save': 'حفظ',
    'button.edit': 'تعديل',
    'button.delete': 'حذف',
    'label.new': 'جديد',
    'label.refurbished': 'مجدد',
    'label.used': 'مستعمل',
    'nav.home': 'الرئيسية',
    'nav.about': 'من نحن',
    'nav.services': 'الخدمات',
    'nav.contact': 'اتصل بنا',
    'search.placeholder': 'بحث...',
    'footer.rights': 'جميع الحقوق محفوظة',
    'footer.privacy': 'سياسة الخصوصية',
    'footer.terms': 'شروط الخدمة',
    'footer.head_office': 'المقر الرئيسي',
    'footer.about_us': 'من نحن',
    'footer.follow_us': 'تابعنا',
    'map.title': 'زر متجرنا',
    'map.contact_info_title': 'معلومات الاتصال',
    'map.address': 'العنوان',
    'map.email': 'البريد الإلكتروني',
    'map.phone': 'الهاتف',
    'map.working_hours': 'ساعات العمل',
    'map.get_directions': 'احصل على الاتجاهات',
    'about.title': 'عن ديكسي ميلز',
    'about.subtitle': 'مورد رائد للصلصات والتوابل الممتازة، مكرس لتقديم نكهات استثنائية إلى مائدتك من خلال مكونات عالية الجودة ووصفات أصيلة',
    'about.story_title': 'قصتنا',
    'about.team_title': 'فريق القيادة لدينا',
    'about.cta_title': 'شارك مع ديكسي ميلز اليوم',
    'about.cta_subtitle': 'شريكك الموثوق في الصلصات والتوابل',
    'about.cta_description': 'اكتشف كيف يمكن لصلصاتنا الممتازة أن تعزز تجربتك الطهوية. اتصل بنا: info@dixiemills.com | +20 109 167 8197',
    // Services page translations
    'services.title': 'خدماتنا',
    'services.subtitle': 'حلول خدمة غذائية شاملة لدعم المطاعم والفنادق وشركات الأغذية بمنتجات عالية الجودة وتوصيل موثوق',
    'services.why_choose_title': 'لماذا تختار خدماتنا؟',
    'services.expertise_title': 'الخبرة والتجربة',
    'services.expertise_description': 'أكثر من 20 عامًا من الخبرة في صناعة الأغذية مع طهاة خبراء وتقنيي أغذية يصنعون نكهات أصيلة.',
    'services.quality_title': 'ضمان الجودة',
    'services.quality_description': 'عمليات معتمدة من ISO تضمن أعلى معايير سلامة الأغذية وجودة المنتج.',
    'services.satisfaction_title': 'رضا العملاء',
    'services.satisfaction_description': 'مكرسون لتجاوز توقعات العملاء بمنتجات ممتازة وحلول مخصصة.',
    // Contact page translations
    'contact.title': 'اتصل بنا',
    'contact.subtitle': 'تواصل مع فريقنا للاستفسارات أو الدعم أو لمناقشة احتياجاتك من الصلصات والتوابل',
    'contact.address_title': 'العنوان',
    'contact.phone_title': 'الهاتف',
    'contact.whatsapp_title': 'واتساب',
    'contact.email_title': 'البريد الإلكتروني',
    'contact.hours_title': 'ساعات العمل',
    'contact.hours_weekdays': 'الاثنين - الجمعة: 9:00 صباحًا - 6:00 مساءً',
    'contact.hours_saturday': 'السبت: 10:00 صباحًا - 4:00 مساءً',
    'contact.hours_sunday': 'الأحد: مغلق',
    'contact.cta_title': 'تواصل معنا اليوم',
    'contact.cta_subtitle': 'ضمان الرد السريع',
    'contact.cta_description': 'نهدف للرد على جميع الاستفسارات خلال 24 ساعة خلال أيام العمل. للأمور العاجلة، يرجى الاتصال بنا مباشرة وسنساعدك على الفور.',
    'contact.success_message': 'شكرًا لرسالتك! سنرد عليك قريبًا.',
    // Category page translations
    'category.sauces.title': 'صلصات ممتازة',
    'category.mayonnaise.title': 'مجموعة المايونيز',
    'category.far_east_sauce.title': 'صلصات الشرق الأقصى',
    'category.toppings.title': 'إضافات لذيذة',
    'category.dressings.title': 'صلصات السلطة',
    'category.ketchup.title': 'كاتشب الطماطم',
    'category.condiments.title': 'التوابل والبهارات',
    'category.professional_sauce.title': 'صلصات للمطابخ المحترفة',
    'category.dixie_kids.title': 'مجموعة ديكسي للأطفال',
    'category.private_label.title': 'خدمات العلامة الخاصة',
    // Blog translations
    'blog.title': 'المدونة',
    'blog.subtitle': 'وصفات لذيذة، نصائح الطهي، وآخر الأخبار من ديكسي ميلز',
    'blog.meta_title': 'مدونة ديكسي ميلز - وصفات ورؤى الطهي',
    'blog.search_placeholder': 'البحث في منشورات المدونة...',
    'blog.filter_by_category': 'تصفية حسب الفئة',
    'blog.filter_by_tag': 'تصفية حسب الوسم',
    'blog.all_posts': 'جميع المنشورات',
    'blog.clear_filters': 'مسح الفلاتر',
    'blog.no_posts_found': 'لم يتم العثور على منشورات',
    'blog.reading_time': 'دقيقة للقراءة',
    'blog.views': 'مشاهدات',
    'blog.categories': 'الفئات',
    'blog.tags': 'الوسوم الشائعة',
    'blog.share': 'مشاركة',
    'blog.share_twitter': 'مشاركة على تويتر',
    'blog.share_facebook': 'مشاركة على فيسبوك',
    'blog.share_linkedin': 'مشاركة على لينكد إن',
    'blog.copy_link': 'نسخ الرابط',
    'blog.link_copied': 'تم نسخ الرابط',
    'blog.back_to_blog': 'العودة إلى المدونة',
    'blog.by_author': 'بواسطة',
    'blog.related_posts': 'منشورات ذات صلة',
    // Order form translations
    'order_form.title': 'اطلب الآن',
    'order_form.subtitle': 'املأ النموذج أدناه وسنقوم بمعالجة طلبك',
    'order_form.customer_info': 'معلومات العميل',
    'order_form.name': 'الاسم',
    'order_form.company': 'الشركة (اختياري)',
    'order_form.phone': 'رقم الهاتف',
    'order_form.email': 'البريد الإلكتروني (اختياري)',
    'order_form.address': 'عنوان التسليم',
    'order_form.products': 'المنتجات',
    'order_form.add_product': 'أضف منتج',
    'order_form.category': 'الفئة',
    'order_form.product': 'المنتج',
    'order_form.quantity': 'الكمية',
    'order_form.notes': 'ملاحظات إضافية (اختياري)',
    'order_form.submit': 'أرسل الطلب عبر واتساب',
    'order_form.submitting': 'جاري الإرسال...',
    'order_form.success': 'تم إرسال طلبك بنجاح!',
    'order_form.error': 'خطأ في إرسال الطلب. حاول مرة أخرى.',
    'order_form.errors.name_required': 'الاسم مطلوب',
    'order_form.errors.phone_required': 'رقم الهاتف مطلوب',
    'order_form.errors.address_required': 'عنوان التسليم مطلوب',
    'order_form.errors.products_required': 'يرجى إضافة منتج واحد على الأقل',
  },
};

export const useTranslation = () => {
  const { currentLanguage } = useLanguage();
  const [translations, setTranslations] = useState({});
  const [loading, setLoading] = useState(false);

  useEffect(() => {
    // Load translations from database
    const loadTranslations = async () => {
      setLoading(true);
      try {
        // Fetch translations from database
        const dbTranslations = await fetchTranslations(currentLanguage);
        console.log('Database translations loaded:', dbTranslations?.length || 0, 'translations for', currentLanguage);
        
        // Convert array of translations to key-value object
        const translationsMap = {};
        if (dbTranslations && Array.isArray(dbTranslations)) {
          dbTranslations.forEach(trans => {
            translationsMap[trans.translation_key] = trans.translation_value;
          });
        }
        
        // Log category translations found in database
        const categoryKeys = Object.keys(translationsMap).filter(key => key.startsWith('category.'));
        console.log('Category translations from database:', categoryKeys);
        
        // Merge database translations with defaults (database takes precedence)
        const langDefaults = defaultTranslations[currentLanguage] || defaultTranslations.en;
        const finalTranslations = { ...langDefaults, ...translationsMap };
        
        setTranslations(finalTranslations);
      } catch (error) {
        console.error('Error loading translations:', error);
        // Fallback to defaults
        setTranslations(defaultTranslations[currentLanguage] || defaultTranslations.en);
      } finally {
        setLoading(false);
      }
    };

    loadTranslations();
  }, [currentLanguage]);

  const t = (key, defaultValue) => {
    // Check if we have a translation for this key
    if (translations[key]) {
      return translations[key];
    }
    
    // If no translation found, return the default value or the key itself
    return defaultValue || key;
  };

  return { t, loading };
};

// Helper function for static translations
export const getStaticTranslation = (key, language = 'en') => {
  const langTranslations = defaultTranslations[language] || defaultTranslations.en;
  return langTranslations[key] || key;
};